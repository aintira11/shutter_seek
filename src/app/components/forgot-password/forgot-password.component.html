<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ShutterSeek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/png" href="assets/favicon.png" />
  </head>
  <body>
    <div class="forgot-password-container">
        <div class="box" (click)="goBack()">
            <div class="arrow right"></div>
            <div class="text">กลับ</div>
        </div>

        <div class="card">
            <div class="logo">
            <img src="assets/images/PIXEL (8).png" alt="Logo" />
            </div>
        
            <form #forgotForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
                <label for="userType">รีเซตรหัสผ่านสำหรับ <span style="color: red">*</span></label>
                <select id="userType" name="userType" [(ngModel)]="formData.userType" required>
                <option value="" disabled selected>เลือกประเภทผู้ใช้</option>
                <option value="photographer">ช่างภาพ</option>
                <option value="user">ผู้ใช้</option>
                <option value="admin">แอดมิน</option>
                </select>

                <label for="contact">อีเมลหรือเบอร์โทร <span style="color: red">*</span></label>
                <input 
                type="text" 
                id="contact" 
                name="contact" 
                [(ngModel)]="formData.contact" 
                required 
                placeholder="กรอกอีเมลหรือเบอร์โทร"
                (ngModelChange)="validateContact()"
                />
                <div *ngIf="!isContactValid && formData.contact" style="color: red;">
                    กรุณากรอกอีเมลให้มี '&#64;' หรือเบอร์โทร 10 หลัก
                </div>
                
            
                <label for="newPassword">รหัสผ่านใหม่ <span style="color: red">*</span></label>
                <input
                type="password"
                id="newPassword"
                name="newPassword"
                [(ngModel)]="formData.newPassword"
                required
                minlength="6"
                placeholder="กรอกรหัสผ่านใหม่"
                />

                <label for="confirmPassword">ยืนยันรหัสผ่านใหม่ <span style="color: red">*</span></label>
                <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                [(ngModel)]="formData.confirmPassword"
                required
                placeholder="ยืนยันรหัสผ่านใหม่"
                />
                <div *ngIf="formData.newPassword && formData.confirmPassword && formData.newPassword !== formData.confirmPassword" style="color: red;">
                รหัสผ่านไม่ตรงกัน
                </div>

                <button
                type="submit"
                [disabled]="!forgotForm.valid || !isContactValid || formData.newPassword !== formData.confirmPassword"
                >
                ยืนยัน
                </button>
            </form> 
        </div>
    </div>             
  </body>
</html>
